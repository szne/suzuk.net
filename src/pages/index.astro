---
import { Icon } from "astro-icon/components";

import Layout from "../layouts/Layout.astro";
// asyncフロントマター
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

const all: CollectionEntry<"journal">[] = await getCollection("journal");
const journal = all
	.sort(
		(a: CollectionEntry<"journal">, b: CollectionEntry<"journal">) =>
			new Date(b.data.date).getTime() - new Date(a.data.date).getTime(),
	)
	.filter((item: CollectionEntry<"journal">) => {
		const year = new Date(item.data.date).getFullYear();
		return year;
		// return year >= 2023; // 過去3年に絞る
	});
---

<Layout
	title="Kohei Suzuki - Portfolio"
	description="ML, data, and finance — fast prototypes and clean trade-offs."
>
	<!-- About -->
	<section>
		<h2 id="about">About me</h2>
		<h3 class="text-zinc-600 dark:text-zinc-400">
			鈴木 康平 - Kohei Suzuki
		</h3>
		<p>
			Third-year Information Engineering student working across ML, data,
			and finance. I like fast prototypes and clean trade-offs.
			<br /><a href="/about">Read more →</a>
		</p>
	</section>

	<!-- Skills -->
	<section id="skills">
		<h2>Skills</h2>

		<div>
			<h3 class="font-medium">Tech</h3>
			<ul>
				<li>Languages: C, Python, TypeScript</li>
				<li>Frameworks: Astro, React, FastAPI</li>
				<li>Data/ML: PyTorch, Statistics</li>
				<li>Ops: Git, Docker, Linux (fish shell)</li>
			</ul>
		</div>

		<div>
			<h3 class="font-medium">Soft-ish</h3>
			<ul>
				<li>Event organization / leadership (1000+ participants)</li>
				<li>Communication: Japanese (Native) / English / Chinese</li>
				<li>
					Working with AI: effective use of GPT for prototyping and
					automation — also good friends with GPT
				</li>
			</ul>
		</div>

		<div>
			<h3 class="font-medium">Weaknesses</h3>
			<details>
				<summary class="cursor-pointer">
					Click to reveal (spoilers ahead)
				</summary>
				<ul>
					<li>More productive in the evening than in the morning</li>
					<li>
						Can get deeply absorbed in tasks, sometimes too much
					</li>
					<li>
						Likes to explore new environments (regular travel helps
						me recharge)
					</li>
					<li>
						Eager to move fast from prototype to the next challenge
					</li>
					<li>
						Often generates too many ideas and has to prioritize
						carefully (according to ChatGPT)
					</li>
				</ul>
			</details>
		</div>
	</section>

	<!-- Journal -->
	<section id="journal">
		<h2>Timeline / Journal</h2>
		<ul class="gap-y-3">
			{
				journal.map((entry) => (
					<li
						data-date={entry.data.date}
						data-type={entry.data.type}
						data-tags={(entry.data.tags || []).join(",")}
					>
						<time datetime={entry.data.date}>
							{new Date(entry.data.date).toLocaleDateString(
								"ja-JP",
								{ year: "numeric", month: "2-digit" },
							)}
						</time>
						{" — "}

						{entry.data.type === "work" ? (
							<strong>
								<a href={`/journal/${entry.slug}/`}>
									{entry.data.title}
								</a>
							</strong>
						) : (
							<span class="">{entry.data.title}</span>
						)}

						{entry.data.note && (
							<span class="text-zinc-500 dark:text-zinc-400">
								{" "}
								— {entry.data.note}
							</span>
						)}
						{entry.data.link && (
							<>
								{" "}
								<a
									href={entry.data.link}
									target="_blank"
									rel="noreferrer"
								>
									[link]
								</a>
							</>
						)}
					</li>
				))
			}
		</ul>
	</section>

	<!-- Contact -->
	<section id="contact">
		<h2>Contact</h2>
		<ul class="list-none !pl-0">
			<li class="flex items-center gap-2">
				<Icon name="mdi:email" class="icon" />
				<a href="mailto:contact@suzuk.net">contact@suzuk.net</a>
			</li>
			<li class="flex items-center gap-2">
				<Icon name="mdi:github" class="icon" />
				<a
					href="https://github.com/szne"
					target="_blank"
					rel="noreferrer">GitHub</a
				>
			</li>
			<li class="flex items-center gap-2">
				<Icon name="mdi:linkedin" class="icon" />
				<a
					href="https://www.linkedin.com/in/kohei-suzuki-0060092b7"
					target="_blank"
					rel="noreferrer">LinkedIn</a
				>
			</li>
		</ul>
		<p class="text-sm text-zinc-500 dark:text-zinc-400">
			Bug reports welcome — though they might secretly be “features”.
		</p>
	</section>
</Layout>
